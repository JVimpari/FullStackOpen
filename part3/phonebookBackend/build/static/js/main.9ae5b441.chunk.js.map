{"version":3,"sources":["components/form.js","components/filter.js","components/render.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["ExtraInfo","info","extraName","className","extraNumber","InfoIcon","type","src","alt","FormInput","forminput","handleFunction","value","onChange","required","Form","newName","handleNameChange","newNumber","handleNumberChange","handleSubmit","onSubmit","filterList","persons","newFilter","normalizeString","inputString","toLocaleLowerCase","normalize","replace","filter","name","includes","FilterInput","Filter","handleFilterChange","DelButton","entry","deleteName","onClick","window","confirm","Number","number","Name","Entry","PrintEntries","filteredEntries","map","id","baseUrl","personService","getAll","axios","get","then","response","data","addPerson","newObject","post","deletePerson","objectId","delete","updatePerson","updatedObject","put","RenderNotification","message","RenderError","split","content","Notification","notificationMessage","errorMessage","App","useEffect","initialPersons","setPersons","useState","setNewName","setNewNumber","setNewFilter","setErrorMessage","setNotificationMessage","addName","nameObject","returnedPerson","concat","handleNotificationMessage","catch","error","console","log","handleErrorMessage","Object","values","details","attr","join","updateName","person","setTimeout","returnedList","event","target","preventDefault","foundObject","find","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9ae5b441.chunk.js","sourcesContent":["const ExtraInfo = ( {info} ) => {\r\n    const extraName = \r\n    <div>\r\n        <b>Accepted name format:</b>\r\n        <ul className='extralist'>\r\n            <li>Must contain 3-30 characters</li>\r\n                <ul className='extralist'>\r\n                    <li>Small and (or) capital</li>\r\n                    <li>Latin alphabet</li>\r\n                    <li>Accents</li>\r\n                    <li>Diacritical marks</li>\r\n                </ul>\r\n            <li>Can be multipart- or fullname<br />\r\n                separated with:\r\n            </li>\r\n                <ul className='extralist'>\r\n                    <li>hyphens '-'</li>\r\n                    <li>spaces ' '</li>\r\n                </ul>\r\n        </ul>\r\n    </div>\r\n    const extraNumber = \r\n        <div>\r\n        <b>Accepted phonenumber format:</b>\r\n        <ul className='extralist'>\r\n        <li>Must contain 8-15 digits</li>\r\n        <li>May start with '+' sign</li>\r\n        <li>Numbers can be separated with</li>\r\n            <ul className='extralist'>\r\n                <li>hyphens '-'</li>\r\n                <li>spaces ' '</li>\r\n            </ul>\r\n        </ul>\r\n    </div>\r\n    \r\n    return (\r\n        <span className='extra'>\r\n            {(info === 'name') ? extraName : extraNumber}\r\n        </span>\r\n    )\r\n}\r\n\r\nconst InfoIcon = () => {\r\n    return (\r\n        <input type='image' className='info' src='info-circle-solid.svg' alt='info button'/>\r\n    )\r\n}\r\n\r\nconst FormInput = ( {forminput, handleFunction} ) => {\r\n    return (\r\n        <input type='text'value={forminput} onChange={handleFunction} required />\r\n    )\r\n}\r\n\r\nconst Form = ( {newName, handleNameChange, newNumber, handleNumberChange, handleSubmit} ) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                <label>name: </label>\r\n                <FormInput forminput={newName} handleFunction={handleNameChange} />\r\n                <InfoIcon />\r\n                <ExtraInfo info='name'/>\r\n            </div>\r\n            <div>\r\n                <label>number: </label>\r\n                <FormInput forminput={newNumber} handleFunction={handleNumberChange} />\r\n                <InfoIcon />\r\n                <ExtraInfo info='number'/>\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Form\r\n\r\n ","const filterList = (persons, newFilter) => {\r\n    const normalizeString = (inputString) => {\r\n        return (\r\n            inputString.toLocaleLowerCase().normalize('NFKD').replace(/\\p{Diacritic}/gu, \"\")\r\n        )\r\n    }\r\n    return (\r\n        persons.filter( ({name}) => normalizeString(name).includes(normalizeString(newFilter)))\r\n    )\r\n}\r\n\r\nconst FilterInput = ( {filter, handleFunction} ) => {\r\n    return (\r\n        <input value={filter} onChange={handleFunction}/>\r\n    )\r\n}\r\n\r\nconst Filter = ( {newFilter, handleFilterChange} ) => {\r\n    return (\r\n        <div>\r\n            <label>filter shown with: </label>\r\n            <FilterInput filter={newFilter} handleFunction={handleFilterChange} />\r\n        </div>\r\n    )\r\n}\r\nexport {filterList, Filter}","const DelButton = ( {entry, deleteName} ) => {\r\n  return (\r\n    <button onClick={() => {\r\n      if (window.confirm(`Delete ${entry.name}?`)) {\r\n          deleteName(entry)\r\n      }}}>\r\n      delete\r\n    </button>\r\n  )\r\n}\r\n\r\nconst Number = ( {number} ) => {\r\n  return (\r\n    <div>\r\n      {number}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Name = ( {name} ) => {\r\n  return (\r\n    <div>\r\n      {name}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Entry = ( {entry, deleteName} ) => {\r\n  return (\r\n    <li>\r\n      <Name name={entry.name} />\r\n      <Number number={entry.number} />\r\n      <DelButton entry={entry} deleteName={deleteName}/>\r\n    </li>\r\n  )\r\n}\r\n\r\nconst PrintEntries = ( {filteredEntries, deleteName} ) => {\r\n    return(\r\n      <div>\r\n        <ul className='person'>\r\n          {filteredEntries.map(entry => \r\n            <Entry key={entry.id} entry={entry} deleteName={deleteName}/>\r\n          )}\r\n        </ul>   \r\n      </div>\r\n    )\r\n  }\r\nexport default PrintEntries","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst addPerson = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = objectId => {\r\n    const request = axios.delete(`${baseUrl}/${objectId}`)\r\n    return request.then(response => response)\r\n}\r\n\r\nconst updatePerson = updatedObject => {\r\n    const request = axios.put(`${baseUrl}/${updatedObject.id}`, updatedObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst personService = {getAll, addPerson, deletePerson, updatePerson}\r\n\r\nexport default personService","const RenderNotification = ({message}) => {\r\n    return(\r\n        <div className='Notification'>\r\n            <h3>{message}</h3>    \r\n        </div>\r\n    )\r\n}\r\n\r\nconst RenderError = ({message}) => {\r\n    return(\r\n        <div className='Error'>\r\n            {message.split(',').map(content => {\r\n                return (<h3>{content}</h3>)\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Notification = ({notificationMessage, errorMessage}) => {\r\n    \r\n    return (\r\n        <div>\r\n            {notificationMessage ? <RenderNotification message={notificationMessage} /> : null}\r\n            {errorMessage ? <RenderError message={errorMessage} /> : null}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Form from './components/form'\nimport {filterList, Filter} from './components/filter'\nimport PrintEntries from './components/render'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const [persons, setPersons] = useState([])\n\n  const [ newName, setNewName ] = useState('')\n\n  const [ newNumber, setNewNumber ] = useState('')\n\n  const [ newFilter, setNewFilter ] = useState('')\n\n  const [ errorMessage, setErrorMessage ] = useState(null)\n  \n  const [ notificationMessage, setNotificationMessage ] = useState(null)\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    const nameObject = {\n      name: newName,\n      number: newNumber,\n    }\n    const foundObject = persons.find( ({name}) => name === newName)\n    if ( !foundObject ) {\n      addName(nameObject)\n    }\n    else {\n      const updatedObject = {...foundObject, number: newNumber}\n      updateName(updatedObject)\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const addName = nameObject => {\n    personService\n      .addPerson(nameObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        handleNotificationMessage(`Added information for '${nameObject.name}'`)\n      })\n      .catch(error => {\n        console.log(error.response.data)\n        handleErrorMessage(Object.values(error.response.data.details).map(attr => attr.message).join(','))\n      })\n  }\n\n  const updateName = (updatedObject) => {\n    if (window.confirm(`${updatedObject.name} is already added to phonebook, replace the old number with new one?`)) {\n      personService\n        .updatePerson(updatedObject)\n        .then(returnedPerson => {\n          setPersons(persons.map(person => person.id !== updatedObject.id ? person : returnedPerson))\n          handleNotificationMessage(`Updated information for '${updatedObject.name}'`)    \n        })\n        .catch(error => {\n          console.log(error.response.data)\n          handleErrorMessage(Object.values(error.response.data.details).map(attr => attr.message).join(','))\n        })\n    }\n  }\n\n  const deleteName = entry => {\n    personService\n      .deletePerson(entry.id)\n      .then(() => {\n        setPersons(persons.filter(person => person.id !== entry.id))\n      })\n      .catch(error => { \n        console.log(error)\n        handleErrorMessage(`Could not delete information for '${entry.name}'!`)\n      })\n  }\n  \n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  const handleErrorMessage = (message) => {\n    setTimeout(() => setErrorMessage(null), 5000, setErrorMessage(message))\n    personService\n      .getAll()\n      .then(returnedList => {\n        setPersons(returnedList)\n      })\n  }\n\n  const handleNotificationMessage = (message) => {\n    setTimeout(() => setNotificationMessage(null), 5000, setNotificationMessage(message))\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notificationMessage={notificationMessage} errorMessage={errorMessage} />\n      <Filter newFilter={newFilter} handleFilterChange={handleFilterChange} />\n      <h3>Add a new</h3>\n      <Form\n        newName={newName} handleNameChange={handleNameChange}\n        newNumber={newNumber} handleNumberChange={handleNumberChange}\n        handleSubmit={handleSubmit}\n      />\n      <h3>Numbers</h3>\n      <PrintEntries filteredEntries={filterList(persons, newFilter)} deleteName={deleteName} />\n    </div>\n  )\n}\n\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)\n"],"sourceRoot":""}