(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{41:function(u,e,n){},42:function(u,e,n){"use strict";n.r(e);var t=n(17),c=n.n(t),r=n(8),i=n(3),a=n(2),D=n(0),s=function(u){var e=u.info,n=Object(D.jsxs)("div",{children:[Object(D.jsx)("b",{children:"Accepted name format:"}),Object(D.jsxs)("ul",{className:"extralist",children:[Object(D.jsx)("li",{children:"Must contain 3-30 characters"}),Object(D.jsxs)("ul",{className:"extralist",children:[Object(D.jsx)("li",{children:"Small and (or) capital"}),Object(D.jsx)("li",{children:"Latin alphabet"}),Object(D.jsx)("li",{children:"Accents"}),Object(D.jsx)("li",{children:"Diacritical marks"})]}),Object(D.jsxs)("li",{children:["Can be multipart- or fullname",Object(D.jsx)("br",{}),"separated with:"]}),Object(D.jsxs)("ul",{className:"extralist",children:[Object(D.jsx)("li",{children:"hyphens '-'"}),Object(D.jsx)("li",{children:"spaces ' '"})]})]})]}),t=Object(D.jsxs)("div",{children:[Object(D.jsx)("b",{children:"Accepted phonenumber format:"}),Object(D.jsxs)("ul",{className:"extralist",children:[Object(D.jsx)("li",{children:"Must contain 8-15 digits"}),Object(D.jsx)("li",{children:"May start with '+' sign"}),Object(D.jsx)("li",{children:"Numbers can be separated with"}),Object(D.jsxs)("ul",{className:"extralist",children:[Object(D.jsx)("li",{children:"hyphens '-'"}),Object(D.jsx)("li",{children:"spaces ' '"})]})]})]});return Object(D.jsx)("span",{className:"extra",children:"name"===e?n:t})},l=function(){return Object(D.jsx)("input",{type:"image",className:"info",src:"info-circle-solid.svg",alt:"info button"})},o=function(u){var e=u.forminput,n=u.handleFunction;return Object(D.jsx)("input",{type:"text",value:e,onChange:n,required:!0})},j=function(u){var e=u.newName,n=u.handleNameChange,t=u.newNumber,c=u.handleNumberChange,r=u.handleSubmit;return Object(D.jsxs)("form",{onSubmit:r,children:[Object(D.jsxs)("div",{children:[Object(D.jsx)("label",{children:"name: "}),Object(D.jsx)(o,{forminput:e,handleFunction:n}),Object(D.jsx)(l,{}),Object(D.jsx)(s,{info:"name"})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)("label",{children:"number: "}),Object(D.jsx)(o,{forminput:t,handleFunction:c}),Object(D.jsx)(l,{}),Object(D.jsx)(s,{info:"number"})]}),Object(D.jsx)("div",{children:Object(D.jsx)("button",{type:"submit",children:"add"})})]})},F=function(u,e){var n=function(u){return u.toLocaleLowerCase().normalize("NFKD").replace(/(?:[\^`\xA8\xAF\xB4\xB7\xB8\u02B0-\u034E\u0350-\u0357\u035D-\u0362\u0374\u0375\u037A\u0384\u0385\u0483-\u0487\u0559\u0591-\u05A1\u05A3-\u05BD\u05BF\u05C1\u05C2\u05C4\u064B-\u0652\u0657\u0658\u06DF\u06E0\u06E5\u06E6\u06EA-\u06EC\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F5\u0818\u0819\u0898-\u089F\u08C9-\u08D2\u08E3-\u08FE\u093C\u094D\u0951-\u0954\u0971\u09BC\u09CD\u0A3C\u0A4D\u0ABC\u0ACD\u0AFD-\u0AFF\u0B3C\u0B4D\u0B55\u0BCD\u0C3C\u0C4D\u0CBC\u0CCD\u0D3B\u0D3C\u0D4D\u0DCA\u0E47-\u0E4C\u0E4E\u0EBA\u0EC8-\u0ECC\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F82-\u0F84\u0F86\u0F87\u0FC6\u1037\u1039\u103A\u1063\u1064\u1069-\u106D\u1087-\u108D\u108F\u109A\u109B\u135D-\u135F\u1714\u1715\u17C9-\u17D3\u17DD\u1939-\u193B\u1A75-\u1A7C\u1A7F\u1AB0-\u1ABE\u1AC1-\u1ACB\u1B34\u1B44\u1B6B-\u1B73\u1BAA\u1BAB\u1C36\u1C37\u1C78-\u1C7D\u1CD0-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1D2C-\u1D6A\u1DC4-\u1DCF\u1DF5-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2CEF-\u2CF1\u2E2F\u302A-\u302F\u3099-\u309C\u30FC\uA66F\uA67C\uA67D\uA67F\uA69C\uA69D\uA6F0\uA6F1\uA700-\uA721\uA788-\uA78A\uA7F8\uA7F9\uA8C4\uA8E0-\uA8F1\uA92B-\uA92E\uA953\uA9B3\uA9C0\uA9E5\uAA7B-\uAA7D\uAABF-\uAAC2\uAAF6\uAB5B-\uAB5F\uAB69-\uAB6B\uABEC\uABED\uFB1E\uFE20-\uFE2F\uFF3E\uFF40\uFF70\uFF9E\uFF9F\uFFE3]|\uD800\uDEE0|\uD801[\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDEE5\uDEE6]|\uD803[\uDD22-\uDD27\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC46\uDC70\uDCB9\uDCBA\uDD33\uDD34\uDD73\uDDC0\uDDCA-\uDDCC\uDE35\uDE36\uDEE9\uDEEA\uDF3C\uDF4D\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC42\uDC46\uDCC2\uDCC3\uDDBF\uDDC0\uDE3F\uDEB6\uDEB7\uDF2B]|\uD806[\uDC39\uDC3A\uDD3D\uDD3E\uDD43\uDDE0\uDE34\uDE47\uDE99]|\uD807[\uDC3F\uDD42\uDD44\uDD45\uDD97]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF8F-\uDF9F\uDFF0\uDFF1]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD67-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD]|\uD838[\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD46\uDD48-\uDD4A])/g,"")};return u.filter((function(u){var t=u.name;return n(t).includes(n(e))}))},d=function(u){var e=u.filter,n=u.handleFunction;return Object(D.jsx)("input",{value:e,onChange:n})},b=function(u){var e=u.newFilter,n=u.handleFilterChange;return Object(D.jsxs)("div",{children:[Object(D.jsx)("label",{children:"filter shown with: "}),Object(D.jsx)(d,{filter:e,handleFunction:n})]})},h=function(u){var e=u.entry,n=u.deleteName;return Object(D.jsx)("button",{onClick:function(){window.confirm("Delete ".concat(e.name,"?"))&&n(e)},children:"delete"})},f=function(u){var e=u.number;return Object(D.jsx)("div",{children:e})},C=function(u){var e=u.name;return Object(D.jsx)("div",{children:e})},A=function(u){var e=u.entry,n=u.deleteName;return Object(D.jsxs)("li",{children:[Object(D.jsx)(C,{name:e.name}),Object(D.jsx)(f,{number:e.number}),Object(D.jsx)(h,{entry:e,deleteName:n})]})},m=function(u){var e=u.filteredEntries,n=u.deleteName;return Object(D.jsx)("div",{children:Object(D.jsx)("ul",{className:"person",children:e.map((function(u){return Object(D.jsx)(A,{entry:u,deleteName:n},u.id)}))})})},O=n(4),x=n.n(O),E="/api/persons",B={getAll:function(){return x.a.get(E).then((function(u){return u.data}))},addPerson:function(u){return x.a.post(E,u).then((function(u){return u.data}))},deletePerson:function(u){return x.a.delete("".concat(E,"/").concat(u)).then((function(u){return u}))},updatePerson:function(u){return x.a.put("".concat(E,"/").concat(u.id),u).then((function(u){return u.data}))}},p=function(u){var e=u.message;return Object(D.jsx)("div",{className:"Notification",children:Object(D.jsx)("h3",{children:e})})},v=function(u){var e=u.message;return Object(D.jsx)("div",{className:"Error",children:e.split(",").map((function(u){return Object(D.jsx)("h3",{children:u})}))})},g=function(u){var e=u.notificationMessage,n=u.errorMessage;return Object(D.jsxs)("div",{children:[e?Object(D.jsx)(p,{message:e}):null,n?Object(D.jsx)(v,{message:n}):null]})},N=function(){Object(a.useEffect)((function(){B.getAll().then((function(u){t(u)}))}),[]);var u=Object(a.useState)([]),e=Object(i.a)(u,2),n=e[0],t=e[1],c=Object(a.useState)(""),s=Object(i.a)(c,2),l=s[0],o=s[1],d=Object(a.useState)(""),h=Object(i.a)(d,2),f=h[0],C=h[1],A=Object(a.useState)(""),O=Object(i.a)(A,2),x=O[0],E=O[1],p=Object(a.useState)(null),v=Object(i.a)(p,2),N=v[0],w=v[1],y=Object(a.useState)(null),S=Object(i.a)(y,2),k=S[0],M=S[1],P=function(u){B.addPerson(u).then((function(e){t(n.concat(e)),T("Added information for '".concat(u.name,"'"))})).catch((function(u){console.log(u.response.data),J(Object.values(u.response.data.details).map((function(u){return u.message})).join(","))}))},L=function(u){window.confirm("".concat(u.name," is already added to phonebook, replace the old number with new one?"))&&B.updatePerson(u).then((function(e){t(n.map((function(n){return n.id!==u.id?n:e}))),T("Updated information for '".concat(u.name,"'"))})).catch((function(u){console.log(u.response.data),J(Object.values(u.response.data.details).map((function(u){return u.message})).join(","))}))},J=function(u){setTimeout((function(){return w(null)}),5e3,w(u)),B.getAll().then((function(u){t(u)}))},T=function(u){setTimeout((function(){return M(null)}),5e3,M(u))};return Object(D.jsxs)("div",{children:[Object(D.jsx)("h2",{children:"Phonebook"}),Object(D.jsx)(g,{notificationMessage:k,errorMessage:N}),Object(D.jsx)(b,{newFilter:x,handleFilterChange:function(u){E(u.target.value)}}),Object(D.jsx)("h3",{children:"Add a new"}),Object(D.jsx)(j,{newName:l,handleNameChange:function(u){o(u.target.value)},newNumber:f,handleNumberChange:function(u){C(u.target.value)},handleSubmit:function(u){u.preventDefault();var e={name:l,number:f},t=n.find((function(u){return u.name===l}));if(t){var c=Object(r.a)(Object(r.a)({},t),{},{number:f});L(c)}else P(e);o(""),C("")}}),Object(D.jsx)("h3",{children:"Numbers"}),Object(D.jsx)(m,{filteredEntries:F(n,x),deleteName:function(u){B.deletePerson(u.id).then((function(){t(n.filter((function(e){return e.id!==u.id})))})).catch((function(e){console.log(e),J("Could not delete information for '".concat(u.name,"'!"))}))}})]})};n(41);c.a.render(Object(D.jsx)(N,{}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.9ae5b441.chunk.js.map